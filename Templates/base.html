<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{% block title %}Rented{% endblock %}</title>
<style>
    /* ---------------- Global Styles ---------------- */
    *, *::before, *::after { box-sizing: border-box; }

    body {
        font-family: Arial, sans-serif;
        margin: 0;
        min-height: 100vh;
        background: #000;
        color: #fff;
        padding-top: 80px; /* offset for fixed navbar */
        overflow-x: hidden;
    }

    a { text-decoration: none; color: inherit; }

    /* ---------------- Navbar Styles ---------------- */
    .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 20px;
        background-color: #730000;
        border-bottom: 1px solid #444;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
    }

    .nav-left { display: flex; align-items: center; gap: 15px; }

    .navbar a { font-weight: 500; color: #fff; }
    .navbar a:hover { color: #007BFF; }

    .logo { font-family: 'Arial Black', sans-serif; font-size: 25px; color: #000; }
    .contact-link { font-size: 0.9rem; font-weight: 400; }

    .nav-right { display: flex; align-items: center; gap: 12px; }

    .profile-pic { width: 35px; height: 35px; border-radius: 50%; object-fit: cover; cursor: pointer; }
    .username { font-weight: bold; font-size: 15px; color: #fff; margin-right: 4px; }
    .user-info { display: flex; align-items: center; gap: 6px; position: relative; }

    /* ---------------- Modern Dropdown ---------------- */
    .dropdown-menu {
        display: none;
        position: absolute;
        right: 0;
        top: 50px;
        background-color: #000;
        min-width: 200px;
        border-radius: 20px; /* fully rounded corners */
        box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        padding: 8px 0;
        margin: 0;
        z-index: 1000;
        opacity: 0;
        transform: translateY(-10px);
        transition: all 0.3s ease;
    }

    .dropdown-menu.show {
        display: block;
        opacity: 1;
        transform: translateY(0);
    }

    .dropdown-menu a {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 20px;
        font-size: 16px;
        color: #fff;
        background: none;
        border: none;
        transition: background 0.2s, transform 0.2s;
        border-radius: 12px; /* slightly rounded inside */
    }

    .dropdown-menu a:hover {
        background-color: #222;
        transform: translateX(5px);
    }

    /* ---------------- Flash Messages ---------------- */
    .flash-message {
        padding: 10px 15px;
        margin: 20px auto;
        width: 90%;
        max-width: 600px;
        border-radius: 8px;
        text-align: center;
        font-weight: 500;
    }
    .flash-message.success { background-color: #28a745; color: #fff; }
    .flash-message.error   { background-color: #dc3545; color: #fff; }
    .flash-message.info    { background-color: #17a2b8; color: #fff; }

    /* ---------------- Page Layout ---------------- */
    .container {
        max-width: 1000px;
        width: 95%;
        margin: 0 auto;
        background: #000;
        padding: 24px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    h1 { color: #fff; margin-bottom: 24px; text-align: center; }

    .footer { margin-top: 24px; color: #777; font-size: 14px; text-align: center; }

    /* ---------------- Utility Buttons ---------------- */
    .btn {
        padding: 6px 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        text-decoration: none;
        color: #fff;
        font-size: 14px;
    }
    .btn-edit { background: #007bff; margin-right: 4px; }
    .btn-delete { background: rgb(255,0,0); }
    .btn-create { background: #730000; margin-bottom: 20px; display: inline-block; }

    /* ---------------- Login/Signup Button Style ---------------- */
    .nav-right a.button-link {
        background: #000;
        color: #fff;
        padding: 6px 12px;
        border-radius: 4px;
        font-weight: 500;
        transition: background 0.2s;
    }
    .nav-right a.button-link:hover { background: #111; color: #fff; }
</style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-left">
            <a href="{{ url_for('home') }}" class="logo">Rented</a>
            <a href="{{ url_for('contact') }}" class="contact-link">Contact Us</a>
        </div>
        <div class="nav-right">
            {% if session.get('user_id') %}
            <div class="user-info">
                <span class="username">{{ user.username }}</span>
                <img src="{{ url_for('static', filename=user.profile_pic) }}" class="profile-pic">
                <div class="dropdown-menu">
                    <a href="{{ url_for('profile') }}"><span>‚öôÔ∏è</span> Edit Profile</a>
                    <a href="{{ url_for('logout') }}"><span>üö™</span> Logout</a>
                </div>
            </div>
            {% else %}
            <a href="{{ url_for('login') }}" class="button-link">Login</a>
            <a href="{{ url_for('signup') }}" class="button-link">Sign Up</a>
            {% endif %}
        </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="flash-message {{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Page Content -->
    {% block content %}{% endblock %}

    <script>
        // Modern Dropdown toggle
        document.addEventListener("DOMContentLoaded", function() {
            const userInfo = document.querySelector(".user-info");
            if (userInfo) {
                const pic = userInfo.querySelector(".profile-pic");
                const menu = userInfo.querySelector(".dropdown-menu");
                pic.addEventListener("click", (e) => {
                    e.stopPropagation();
                    menu.classList.toggle("show");
                });
                window.addEventListener("click", () => {
                    menu.classList.remove("show");
                });
            }
        });
    </script>
</body> 
</html>
